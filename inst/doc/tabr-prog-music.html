<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>The music class</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">The music class</h1>



<p>Previous vignettes introduced the <code>noteworthy</code> and
<code>noteinfo</code> classes.</p>
<div id="constructing-a-music-object" class="section level2">
<h2>Constructing a music object</h2>
<p>First create a music object from <code>noteworthy</code> and
<code>notinfo</code> objects. An object of each class can be combined to
form a <code>music</code>-class object.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>notes <span class="ot">&lt;-</span> <span class="st">&quot;c d e f g a b ceg~ ceg&quot;</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>info <span class="ot">&lt;-</span> <span class="st">&quot;8*8 1&quot;</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as_music</span>(notes, info)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>x</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555; font-weight: bold;">&lt;Music string&gt;
#&gt;   Format: </span>space-delimited time<span style="color: #555555; font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB; font-weight: bold;">c</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">d</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">e</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">f</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">g</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">a</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">b</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">ceg~</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">ceg</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">1</span>
</code></pre>
<p><code>as_music()</code> offers several additional arguments. Music
objects also store key signature, time signature and tempo. They include
default values: key of C, 4/4 common time, and 60 half note beats per
measure. However, unless you are transcribing your data to sheet music,
you can probably ignore these object attributes entirely. Optionally you
can also include a lyrics object.</p>
<p>Here is a closer look at the music object.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">summary</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555; font-weight: bold;">&lt;Music string&gt;
#&gt;   Timesteps: </span>9 (7 notes, 2 chords)<span style="color: #555555; font-weight: bold;">
#&gt;   Octaves: </span>tick<span style="color: #555555; font-weight: bold;">
#&gt;   Accidentals: </span>flat<span style="color: #555555; font-weight: bold;">
#&gt;   Key signature: </span>c<span style="color: #555555; font-weight: bold;">
#&gt;   Time signature: </span>4/4<span style="color: #555555; font-weight: bold;">
#&gt;   Tempo: </span>2 = 60<span style="color: #555555; font-weight: bold;">
#&gt;   Lyrics: </span>NA<span style="color: #555555; font-weight: bold;">
#&gt;   Format: </span>space-delimited time<span style="color: #555555; font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB; font-weight: bold;">c</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">d</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">e</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">f</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">g</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">a</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">b</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">ceg~</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">8</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">ceg</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">1</span>
</code></pre>
<p>Some of the summary information is the same as seen with noteworthy
objects and more is added that is unique to music objects. Just to note,
octave tick format is explicitly shown as it is with noteworthy objects,
though it is the only valid format for music objects.</p>
</div>
<div id="deconstructing-a-music-object" class="section level2">
<h2>Deconstructing a music object</h2>
<p>Music analysis generally requires disentangling time and sound. For
this reason, building a music object from notes and note info is not
directly useful for analysis. It is a convenient object structure,
however.</p>
<p>Aside from generic methods and a handful of other functions that make
sense to apply to any of these three classes, most functions in the
package that operate on noteworthy strings intentionally do not accept a
music object directly. This helps keep in mind that it is not ideal to
continually deconstruct and reconstruct a music object just to perform
operations on one of the two main component parts.</p>
<p>You can split a music object into a list with
<code>music_split()</code> or you can extract the relevant piece with
one of the other functions below.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">music_split</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; $notes
#&gt; <span style="color: #555555; font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span>space-delimited time<span style="color: #555555; font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB; font-weight: bold;">c</span> <span style="color: #00BBBB; font-weight: bold;">d</span> <span style="color: #00BBBB; font-weight: bold;">e</span> <span style="color: #00BBBB; font-weight: bold;">f</span> <span style="color: #00BBBB; font-weight: bold;">g</span> <span style="color: #00BBBB; font-weight: bold;">a</span> <span style="color: #00BBBB; font-weight: bold;">b</span> <span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB; font-weight: bold;">ceg</span><span style="color: #BBBB00;">~&gt;</span> <span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB; font-weight: bold;">ceg</span><span style="color: #BBBB00;">&gt;</span>
#&gt; 
#&gt; $info
#&gt; <span style="color: #555555; font-weight: bold;">&lt;Note info string&gt;
#&gt;   Format: </span>space-delimited time<span style="color: #555555; font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">1</span>
#&gt; 
#&gt; $lyrics
#&gt; [1] NA
#&gt; 
#&gt; $key
#&gt; [1] &quot;c&quot;
#&gt; 
#&gt; $time
#&gt; [1] &quot;4/4&quot;
#&gt; 
#&gt; $tempo
#&gt; [1] &quot;2 = 60&quot;
</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="fu">music_notes</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555; font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span>space-delimited time<span style="color: #555555; font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB; font-weight: bold;">c</span> <span style="color: #00BBBB; font-weight: bold;">d</span> <span style="color: #00BBBB; font-weight: bold;">e</span> <span style="color: #00BBBB; font-weight: bold;">f</span> <span style="color: #00BBBB; font-weight: bold;">g</span> <span style="color: #00BBBB; font-weight: bold;">a</span> <span style="color: #00BBBB; font-weight: bold;">b</span> <span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB; font-weight: bold;">ceg</span><span style="color: #BBBB00;">~&gt;</span> <span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB; font-weight: bold;">ceg</span><span style="color: #BBBB00;">&gt;</span>
</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">music_info</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555; font-weight: bold;">&lt;Note info string&gt;
#&gt;   Format: </span>space-delimited time<span style="color: #555555; font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">8</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">1</span>
</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">music_key</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] &quot;c&quot;
</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">music_time</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] &quot;4/4&quot;
</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">music_tempo</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] &quot;2 = 60&quot;
</code></pre>
</div>
<div id="constructing-from-character" class="section level2">
<h2>Constructing from character</h2>
<p>The real value is in building brand new music objects from a single
character string input. This method of music object construction allows
for relatively efficient data entry. There can potentially be a lot less
typing involved when directly entering music syntax for a new piece of
music if you do so with the music class rather than creating
<code>noteworthy</code> and <code>noteinfo</code> objects
separately.</p>
<p>This is also a good place to mention that like with
<code>noteworthy</code> and <code>noteinfo</code> strings, a handy
adjective can be used to check the validity of the music input.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;a,4*5 b,4- c4 cgc&#39;e&#39;~4 cgc&#39;e&#39;1 e&#39;4 c&#39; g c ce&#39;1&quot;</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="fu">musical</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] TRUE
</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as_music</span>(x)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>x</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555; font-weight: bold;">&lt;Music string&gt;
#&gt;   Format: </span>space-delimited time<span style="color: #555555; font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">b,</span><span style="color: #BBBB00;">4-</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">c</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">cgc&#39;e&#39;~</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">cgc&#39;e&#39;</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">1</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">e&#39;</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">c&#39;</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">g</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">c</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">ce&#39;</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">1</span>
</code></pre>
<div id="details" class="section level3">
<h3>Details</h3>
<p>Notice that each timestep remains space-delimited (vectors are also
allowed). At each timestep, the notes and the note info are bound
together unambiguously with no delimiter. This is why tick octave
numbering is required for music objects.</p>
<p>You can see that the expansion operator <code>*</code> is still
allowed and continues to be place at the right end of a timestep.</p>
<p>Do not forget that tied notes indicated with the <code>~</code> are
part of the note and not part of the note info! Order matters here.</p>
<p>You can also include rests <code>r</code> and silent rests
<code>s</code>.</p>
</div>
<div id="other-efficiencies" class="section level3">
<h3>Other efficiencies</h3>
<p>Another benefit to this approach for entering new data is that
durations are inferred from the previous timesteps if not provided. You
do not need to explicitly enter a duration value until there is a
change. This is not possible with <code>noteinfo</code> because it could
result in simply removing timesteps, but here there is always a note
entry present to mark each timestep.</p>
<p>This one is a bit of an aside, but if string numbers are provided for
a stringed and fretted instrument context (see example below), there is
also no need to specify more than the starting string number (lowest
pitch/highest number) unless there are non-consecutive strings. The
purpose of the <code>music</code> class is not transcription, but to
corral related data together for analysis.</p>
<p>However, music objects do lend themselves seamlessly to some
transcription tasks, which is why string numbering is allowed even
though it is not focused on. You can see an example here. It is the same
as above, but string numbers are indicated following a semicolon
delimiter. Like durations, string numbers also repeat silently. Any
inferred repeated information across timesteps carries over rests,
including string numbers. String numbers at a rest timestep are ignored
gracefully.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;a,4;5*5 b,4- c4 cgc&#39;e&#39;~4 cgc&#39;e&#39;1 e&#39;4;2 c&#39;;3 g;4 c;5 ce&#39;1;51&quot;</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as_music</span>(x)</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>x</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555; font-weight: bold;">&lt;Music string&gt;
#&gt;   Format: </span>space-delimited time<span style="color: #555555; font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">b,</span><span style="color: #BBBB00;">4-</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">c</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">cgc&#39;e&#39;~</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">cgc&#39;e&#39;</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">1</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">e&#39;</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">c&#39;</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">g</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">c</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">ce&#39;</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">1</span>
</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">music_strings</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt;  [1] &quot;5&quot;    &quot;5&quot;    &quot;5&quot;    &quot;5&quot;    &quot;5&quot;    &quot;5&quot;    &quot;5&quot;    &quot;5432&quot; &quot;5432&quot; &quot;2&quot;   
#&gt; [11] &quot;3&quot;    &quot;4&quot;    &quot;5&quot;    &quot;51&quot;
</code></pre>
<p>Lyrics data returns as <code>NA</code> when requested if a lyrics
object was not provided during the construction of a music object. In
contrast, string number information is not represented in the object at
all if not provided when constructed, since it is not relevant to the
general purpose of the class and is only used for specific transcription
use cases.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">summary</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555; font-weight: bold;">&lt;Music string&gt;
#&gt;   Timesteps: </span>14 (11 notes, 3 chords)<span style="color: #555555; font-weight: bold;">
#&gt;   Octaves: </span>tick<span style="color: #555555; font-weight: bold;">
#&gt;   Accidentals: </span>flat<span style="color: #555555; font-weight: bold;">
#&gt;   Key signature: </span>c<span style="color: #555555; font-weight: bold;">
#&gt;   Time signature: </span>4/4<span style="color: #555555; font-weight: bold;">
#&gt;   Tempo: </span>2 = 60<span style="color: #555555; font-weight: bold;">
#&gt;   Lyrics: </span>NA<span style="color: #555555; font-weight: bold;">
#&gt;   Strings: </span>5 5 5 5 5 5 5 5432 5432 2...<span style="color: #555555; font-weight: bold;">
#&gt;   Format: </span>space-delimited time<span style="color: #555555; font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">a,</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">b,</span><span style="color: #BBBB00;">4-</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">c</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">cgc&#39;e&#39;~</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">cgc&#39;e&#39;</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">1</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">e&#39;</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">c&#39;</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">g</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">c</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">ce&#39;</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">1</span>
</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">music_split</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; $notes
#&gt; <span style="color: #555555; font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span>space-delimited time<span style="color: #555555; font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB; font-weight: bold;">a</span><span style="color: #00BBBB;">,</span> <span style="color: #00BBBB; font-weight: bold;">a</span><span style="color: #00BBBB;">,</span> <span style="color: #00BBBB; font-weight: bold;">a</span><span style="color: #00BBBB;">,</span> <span style="color: #00BBBB; font-weight: bold;">a</span><span style="color: #00BBBB;">,</span> <span style="color: #00BBBB; font-weight: bold;">a</span><span style="color: #00BBBB;">,</span> <span style="color: #00BBBB; font-weight: bold;">b</span><span style="color: #00BBBB;">,</span> <span style="color: #00BBBB; font-weight: bold;">c</span> <span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB; font-weight: bold;">cgc</span><span style="color: #00BBBB;">&#39;</span><span style="color: #00BBBB; font-weight: bold;">e</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">~&gt;</span> <span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB; font-weight: bold;">cgc</span><span style="color: #00BBBB;">&#39;</span><span style="color: #00BBBB; font-weight: bold;">e</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span> <span style="color: #00BBBB; font-weight: bold;">e</span><span style="color: #00BBBB;">&#39;</span> <span style="color: #00BBBB; font-weight: bold;">c</span><span style="color: #00BBBB;">&#39;</span> <span style="color: #00BBBB; font-weight: bold;">g</span> <span style="color: #00BBBB; font-weight: bold;">c</span> <span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB; font-weight: bold;">ce</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span>
#&gt; 
#&gt; $info
#&gt; <span style="color: #555555; font-weight: bold;">&lt;Note info string&gt;
#&gt;   Format: </span>space-delimited time<span style="color: #555555; font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB; font-weight: bold;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">4</span><span style="color: #BBBB00;">-</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">1</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">1</span>
#&gt; 
#&gt; $string
#&gt;  [1] &quot;5&quot;    &quot;5&quot;    &quot;5&quot;    &quot;5&quot;    &quot;5&quot;    &quot;5&quot;    &quot;5&quot;    &quot;5432&quot; &quot;5432&quot; &quot;2&quot;   
#&gt; [11] &quot;3&quot;    &quot;4&quot;    &quot;5&quot;    &quot;51&quot;  
#&gt; 
#&gt; $lyrics
#&gt; [1] NA
#&gt; 
#&gt; $key
#&gt; [1] &quot;c&quot;
#&gt; 
#&gt; $time
#&gt; [1] &quot;4/4&quot;
#&gt; 
#&gt; $tempo
#&gt; [1] &quot;2 = 60&quot;
</code></pre>
<p>As you can see above, the print statement does not change. But the
other functions above reveal that the additional information is now
contained in the music object.</p>
</div>
</div>
<div id="working-with-music-objects" class="section level2">
<h2>Working with music objects</h2>
<p>While many functions that perform operations on noteworthy and note
info objects require those objects exclusively, meaning that you are
supposed to use functions like <code>music_notes()</code> and
<code>music_info()</code> to extract the given component from a music
object, there are several functions that are sensible to apply directly
to music objects.</p>
<p>First and foremost, the same generic methods are implemented for
music objects. Square bracket subsetting will even subset any lyrics or
string numbers that are present in the object, not just the notes and
note info.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">tail</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555; font-weight: bold;">&lt;Music string&gt;
#&gt;   Format: </span>space-delimited time<span style="color: #555555; font-weight: bold;">
#&gt;   Values: </span><span style="color: #555555;">&lt;</span><span style="color: #00BBBB; font-weight: bold;">cgc&#39;e&#39;</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">1</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">e&#39;</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">c&#39;</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">g</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">c</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">ce&#39;</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">1</span>
</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>x[<span class="dv">8</span><span class="sc">:</span><span class="dv">9</span>]</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555; font-weight: bold;">&lt;Music string&gt;
#&gt;   Format: </span>space-delimited time<span style="color: #555555; font-weight: bold;">
#&gt;   Values: </span><span style="color: #555555;">&lt;</span><span style="color: #00BBBB; font-weight: bold;">cgc&#39;e&#39;~</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">cgc&#39;e&#39;</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">1</span>
</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">rep</span>(x[<span class="dv">9</span><span class="sc">:</span><span class="dv">10</span>], <span class="at">each =</span> <span class="dv">2</span>)</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>y</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555; font-weight: bold;">&lt;Music string&gt;
#&gt;   Format: </span>space-delimited time<span style="color: #555555; font-weight: bold;">
#&gt;   Values: </span><span style="color: #555555;">&lt;</span><span style="color: #00BBBB; font-weight: bold;">cgc&#39;e&#39;</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">1</span><span style="color: #555555;"> &lt;</span><span style="color: #00BBBB; font-weight: bold;">cgc&#39;e&#39;</span><span style="color: #555555;">&gt;</span><span style="color: #BBBB00;">1</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">e&#39;</span><span style="color: #BBBB00;">4</span><span style="color: #555555;"> </span><span style="color: #00BBBB; font-weight: bold;">e&#39;</span><span style="color: #BBBB00;">4</span>
</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="fu">music_strings</span>(y)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] &quot;5432&quot; &quot;5432&quot; &quot;2&quot;    &quot;2&quot;
</code></pre>
<p>There are several time functions that work nicely on music objects.
They were not introduced in the vignette on note info because they are
more relevant here. Most require the level of information contained in a
music object because they deal in real time such as seconds. This works
with music objects because they contain a tempo value. Note info objects
do not contain this level of information. They can be passed to
functions that require a tempo value, as long as you also pass a tempo
to any function with a <code>tempo</code> argument.</p>
<p>The example below is intended to be complex, including many changes
in note duration and other note info. There is not much to be gained by
writing it as a single string in this case. For clarity, it starts from
separate notes and note info. See the help documentation for more
examples and details.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">notate</span>(<span class="st">&quot;t8x&quot;</span>, <span class="st">&quot;Start here&quot;</span>)</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>notes <span class="ot">&lt;-</span> <span class="st">&quot;a, b, c d e f g# a r ac&#39;e&#39; a c&#39; e&#39; c&#39; r*3 ac&#39;e&#39;~ ac&#39;e&#39;&quot;</span></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>info <span class="ot">&lt;-</span> <span class="fu">paste</span>(a, <span class="st">&quot;t8x t8-. 16 4.. 16- 16 2^ 2 4. 8( 4)( 4) 8*4 1 1&quot;</span>)</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as_music</span>(notes, info)</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a><span class="fu">n_measures</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] 5.375
</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">n_beats</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] 21.5
</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="fu">bpm</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] 120
</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="fu">seconds</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] 10.75
</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="fu">steps_per_measure</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;"># A tibble: 5 Ã— 2</span>
#&gt;   measure steps
#&gt;     <span style="color: #555555; font-style: italic;">&lt;int&gt;</span> <span style="color: #555555; font-style: italic;">&lt;int&gt;</span>
#&gt; <span style="color: #555555;">1</span>       1     8
#&gt; <span style="color: #555555;">2</span>       2     2
#&gt; <span style="color: #555555;">3</span>       3     4
#&gt; <span style="color: #555555;">4</span>       4     4
#&gt; <span style="color: #555555;">5</span>       5     1
</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="fu">seconds_per_measure</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] 2
</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="fu">seconds_per_step</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt;  [1] 0.1666667 0.1666667 0.1666667 0.1250000 0.8750000 0.1250000 0.1250000
#&gt;  [8] 1.0000000 1.0000000 0.7500000 0.2500000 0.5000000 0.5000000 0.2500000
#&gt; [15] 0.2500000 0.2500000 0.2500000 2.0000000 2.0000000
</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="fu">steps_start_time</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt;  [1] 0.0000000 0.1666667 0.3333333 0.5000000 0.6250000 1.5000000 1.6250000
#&gt;  [8] 1.7500000 2.7500000 3.7500000 4.5000000 4.7500000 5.2500000 5.7500000
#&gt; [15] 6.0000000 6.2500000 6.5000000 6.7500000 8.7500000
</code></pre>
<p>You may notice above that the table returned by
<code>steps_per_measure()</code> containing the number of timesteps per
measure of music does not have an entry for measure six. There is a
measure six. You can see from <code>n_measures()</code> being greater
than five that a sixth measure does begin even if the duration of all
the time steps does not yield a complete sixth measure. The reason there
is no entry in the table is because this measure has no timesteps. The
final chord in the sequence lasts for a whole measure, beginning in
measure five and carrying over to six, but no timestep starts in
six.</p>
<p>Combining note info with a tempo is powerful because it allows you to
move from beats into real time. The music object is a convenient
structure for keeping sound and time together and splitting and
extracting parts of the object for independent computations is easy when
using the various supporting functions.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
