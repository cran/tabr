<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Chord functions</title>

<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Chord functions</h1>



<div id="chord-identity-and-comparison" class="section level2">
<h2>Chord identity and comparison</h2>
<p>You have already seen <code>is_chord</code>, which is similar to <code>is_note</code>. Another check you have seen is <code>is_diatonic</code>. You can also check whether a chords are major or minor, but this is imperfect due to the inability to know if the user is interpreting their notation of a chord as an inversion. Instances where it is too difficult to tell, or inapplicable such as with single notes, return <code>NA</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>x &lt;-<span class="st"> &quot;b c ce_g cd#g&quot;</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">is_diatonic</span>(x, <span class="dt">key =</span> <span class="st">&quot;b_&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] FALSE  TRUE  TRUE FALSE
</code></pre>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">chord_is_major</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1]    NA    NA FALSE FALSE
</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">chord_is_minor</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1]   NA   NA TRUE TRUE
</code></pre>
<p>A few functions that compare chords are <code>chord_rank</code>, <code>chord_order</code> and <code>chord_sort</code>. Ranking chords, and the ordering and sorting based on that, requires a definition or set of definitions to work from.</p>
<p>The first argument is a noteworthy string. The second, <code>pitch</code>, can be <code>&quot;min&quot;</code> (the default), <code>&quot;mean&quot;</code>, or <code>&quot;max&quot;</code>. Each of these refers to the functions that operate on the three available definitions of ranking chords. When ranking individual notes, the result is fixed because there are only two pitches being compared. For chords, however, <code>pitch = &quot;min&quot;</code> compares only the lowest pitch or root note of a chord. For <code>pitch = &quot;max&quot;</code>, the highest pitch note in each chord is used for establishing rank. For <code>pitch = &quot;mean&quot;</code>, the average of all notes in the chord are used for ranking chords.</p>
<p>Rank is from lowest to highest pitch. These options define how chords are ranked, but each function below also passes on additional arguments via <code>...</code> to the base functions <code>rank</code> and <code>order</code> for the additional control over the more general aspects of how ranking and ordering are done in R. <code>chord_order</code> works analogously to <code>chord_rank</code>. <code>chord_sort</code> wraps around <code>chord_order</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>x &lt;-<span class="st"> &quot;a2 c a2 ceg ce_g cea&quot;</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw">chord_rank</span>(x, <span class="st">&quot;min&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] 1.5 4.5 1.5 4.5 4.5 4.5
</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">chord_rank</span>(x, <span class="st">&quot;max&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] 1.5 3.0 1.5 4.5 4.5 6.0
</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">chord_rank</span>(x, <span class="st">&quot;mean&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] 1.5 3.0 1.5 5.0 4.0 6.0
</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="kw">chord_order</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] 1 3 2 4 5 6
</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">chord_order</span>(x, <span class="st">&quot;mean&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] 1 3 2 5 4 6
</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="kw">chord_sort</span>(x, <span class="st">&quot;mean&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB;font-weight: bold;">a</span><span style="color: #00BBBB;">2</span><span> </span><span style="color: #00BBBB;font-weight: bold;">a</span><span style="color: #00BBBB;">2</span><span> </span><span style="color: #00BBBB;font-weight: bold;">c</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ce_g</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ceg</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">cea</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
</div>
<div id="slice-and-filter-chords" class="section level2">
<h2>Slice and filter chords</h2>
<p>Chords can be sliced or indexed using the functions <code>chord_root</code>, <code>chord_top</code> and <code>chord_slice</code>. The first two are special cases of <code>chord_slice</code>. The first two functions return a noteworthy string containing only the root or top notes of each chord. If the string contains a single note, by definition the note is returned.</p>
<p>For <code>chord_slice</code>, however, an integer index range is provided and it is possible to reduce a note or chord to nothing by passing indices that are completely out of bounds. Any note or chord that is completely sliced away is dropped.</p>
<p>The example below also shows that what matters is pitch order, not the order in which notes in a chord are entered in the string.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>x &lt;-<span class="st"> &quot;a2 ceg e_gc egc,cc&#39;&quot;</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="kw">chord_root</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB;font-weight: bold;">a</span><span style="color: #00BBBB;">,</span><span> </span><span style="color: #00BBBB;font-weight: bold;">c</span><span> </span><span style="color: #00BBBB;font-weight: bold;">c</span><span> </span><span style="color: #00BBBB;font-weight: bold;">c</span><span style="color: #00BBBB;">,</span><span>
</span></code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">chord_top</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB;font-weight: bold;">a</span><span style="color: #00BBBB;">,</span><span> </span><span style="color: #00BBBB;font-weight: bold;">g</span><span> </span><span style="color: #00BBBB;font-weight: bold;">g</span><span> </span><span style="color: #00BBBB;font-weight: bold;">c</span><span style="color: #00BBBB;">&#39;</span><span>
</span></code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw">identical</span>(<span class="kw">chord_slice</span>(x, <span class="dv">1</span>), <span class="kw">chord_root</span>(x))</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] TRUE
</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="kw">chord_slice</span>(x, <span class="dv">2</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB;font-weight: bold;">e</span><span> </span><span style="color: #00BBBB;font-weight: bold;">e_</span><span> </span><span style="color: #00BBBB;font-weight: bold;">c</span><span>
</span></code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">chord_slice</span>(x, <span class="dv">4</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB;font-weight: bold;">g</span><span>
</span></code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw">chord_slice</span>(x, <span class="dv">3</span><span class="op">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB;font-weight: bold;">g</span><span> </span><span style="color: #00BBBB;font-weight: bold;">g</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">egc</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
<p>The slicing functions deal with position <em>within</em> a chord; they are not a simple reproduction of vector indexing of time steps, which is trivial and can already be done with <code>note_slice</code> (clearly not slicing a single note, but a noteworthy string). Filtering the <em>sequence</em> rather than the elements within it is best done by taking the results of a function that returns a logical vector and passing them to <code>note_slice</code>. This tends to fall under the topic of general noteworthy string functions and does not apply strictly to chords, but an example is shown here.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>x &lt;-<span class="st"> &quot;a2 ceg e_gc egc,cc&#39;&quot;</span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="kw">note_slice</span>(x, <span class="dv">3</span><span class="op">:</span><span class="dv">4</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">e_gc</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">egc</span><span style="color: #00BBBB;">,</span><span style="color: #00BBBB;font-weight: bold;">cc</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">note_slice</span>(x, <span class="kw">is_chord</span>(x))</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ceg</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">e_gc</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">egc</span><span style="color: #00BBBB;">,</span><span style="color: #00BBBB;font-weight: bold;">cc</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
</div>
<div id="chord-transformations" class="section level2">
<h2>Chord transformations</h2>
<p>A broken chord can be created with <code>chord_break</code>, which separates a chord into its component notes, separating in time. It accepts a single chord.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>x &lt;-<span class="st"> &quot;ce_g&quot;</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="kw">chord_break</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB;font-weight: bold;">c</span><span> </span><span style="color: #00BBBB;font-weight: bold;">e_</span><span> </span><span style="color: #00BBBB;font-weight: bold;">g</span><span>
</span></code></pre>
<p><code>chord_invert</code> creates chord inversions. It also takes a single chord as input. It treats any chord as being in root position as provided. The example below applies the function over a series of inversion values to show how the output changes.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="kw">pc</span>(<span class="kw">sapply</span>((<span class="op">-</span><span class="dv">3</span>)<span class="op">:</span><span class="dv">3</span>, <span class="cf">function</span>(i) <span class="kw">chord_invert</span>(x, i)))</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">c</span><span style="color: #00BBBB;">2</span><span style="color: #00BBBB;font-weight: bold;">e_</span><span style="color: #00BBBB;">2</span><span style="color: #00BBBB;font-weight: bold;">g</span><span style="color: #00BBBB;">2</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">e_</span><span style="color: #00BBBB;">2</span><span style="color: #00BBBB;font-weight: bold;">g</span><span style="color: #00BBBB;">2</span><span style="color: #00BBBB;font-weight: bold;">c</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">g</span><span style="color: #00BBBB;">2</span><span style="color: #00BBBB;font-weight: bold;">ce_</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ce_g</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">e_gc</span><span style="color: #00BBBB;">4</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">gc</span><span style="color: #00BBBB;">4</span><span style="color: #00BBBB;font-weight: bold;">e_</span><span style="color: #00BBBB;">4</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">c</span><span style="color: #00BBBB;">4</span><span style="color: #00BBBB;font-weight: bold;">e_</span><span style="color: #00BBBB;">4</span><span style="color: #00BBBB;font-weight: bold;">g</span><span style="color: #00BBBB;">4</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
<p>While a chord with <code>n</code> notes has <code>n - 1</code> inversions, <code>chord_invert</code> allows inversions to continue, moving a chord further up or down in octaves. If you want to restrict the function to only allowing the defined number of inversions (excluding root position), set <code>limit = TRUE</code>. This enforces the rule that, for example, a chord with three notes has two inversions and <code>n</code> can only take values between <code>-2</code> and <code>2</code> or it will throw and error.</p>
<p>Building up on <code>chord_invert</code>, <code>chord_arpeggiate</code> grows a chord up or down the scale in pitch by creating an arpeggio. <code>n</code> describes how many steps to add onto the original chord. Setting <code>by = &quot;chord&quot;</code> will replicate the entire chord as is, up or down the scale. In this case <code>n</code> indicates whole octave transposition steps. By default, <code>n</code> refers to the number of steps that individual chord notes are arpeggiated, like in <code>chord_invert</code>. This means for example that in a chord with three notes, setting <code>n = 3</code> and <code>by = &quot;note&quot;</code> is equivalent to setting <code>n = 1</code> and <code>by = &quot;chord&quot;</code>.</p>
<p>The argument <code>broken = TRUE</code> will also convert to a broken chord, resulting in an arpeggio of individual notes.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="kw">chord_arpeggiate</span>(<span class="st">&quot;ce_gb_&quot;</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>vectorized time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ce_gb_</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">e_gb_c</span><span style="color: #00BBBB;">4</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">gb_c</span><span style="color: #00BBBB;">4</span><span style="color: #00BBBB;font-weight: bold;">e_</span><span style="color: #00BBBB;">4</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="kw">chord_arpeggiate</span>(<span class="st">&quot;ce_gb_&quot;</span>, <span class="dv">-2</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>vectorized time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ce_gb_</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">b_</span><span style="color: #00BBBB;">2</span><span style="color: #00BBBB;font-weight: bold;">ce_g</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">g</span><span style="color: #00BBBB;">2</span><span style="color: #00BBBB;font-weight: bold;">b_</span><span style="color: #00BBBB;">2</span><span style="color: #00BBBB;font-weight: bold;">ce_</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="kw">chord_arpeggiate</span>(<span class="st">&quot;ce_gb_&quot;</span>, <span class="dv">2</span>, <span class="dt">by =</span> <span class="st">&quot;chord&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>vectorized time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ce_gb_</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">c</span><span style="color: #00BBBB;">4</span><span style="color: #00BBBB;font-weight: bold;">e_</span><span style="color: #00BBBB;">4</span><span style="color: #00BBBB;font-weight: bold;">g</span><span style="color: #00BBBB;">4</span><span style="color: #00BBBB;font-weight: bold;">b_</span><span style="color: #00BBBB;">4</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">c</span><span style="color: #00BBBB;">5</span><span style="color: #00BBBB;font-weight: bold;">e_</span><span style="color: #00BBBB;">5</span><span style="color: #00BBBB;font-weight: bold;">g</span><span style="color: #00BBBB;">5</span><span style="color: #00BBBB;font-weight: bold;">b_</span><span style="color: #00BBBB;">5</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="kw">chord_arpeggiate</span>(<span class="st">&quot;ce_gb_&quot;</span>, <span class="dv">1</span>, <span class="dt">broken =</span> <span class="ot">TRUE</span>, <span class="dt">collapse =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #00BBBB;font-weight: bold;">c</span><span> </span><span style="color: #00BBBB;font-weight: bold;">e_</span><span> </span><span style="color: #00BBBB;font-weight: bold;">g</span><span> </span><span style="color: #00BBBB;font-weight: bold;">b_</span><span> </span><span style="color: #00BBBB;font-weight: bold;">e_</span><span> </span><span style="color: #00BBBB;font-weight: bold;">g</span><span> </span><span style="color: #00BBBB;font-weight: bold;">b_</span><span> </span><span style="color: #00BBBB;font-weight: bold;">c</span><span style="color: #00BBBB;">4</span><span>
</span></code></pre>
</div>
<div id="dyads" class="section level2">
<h2>Dyads</h2>
<p>Before introducing the chord constructors, here is a brief mention and example of the <code>dyad</code> function for constructing dyads from a root note and and interval. Dyads are not always considered chords, but this is as good a place as any to mention <code>dyad</code> since the key distinction made in <code>tabr</code> in this context is whether there is a single note or multiple notes. The interval passed to <code>dyad</code> can be in semitones, or a named interval from <code>mainIntervals</code> that corresponds to the number of semitones.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="kw">dyad</span>(<span class="st">&quot;a&quot;</span>, <span class="dv">3</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ac</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;minor third&quot;</span>, <span class="st">&quot;m3&quot;</span>, <span class="st">&quot;augmented second&quot;</span>, <span class="st">&quot;A2&quot;</span>)</span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="kw">dyad</span>(<span class="st">&quot;a&quot;</span>, x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ac</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ac</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ac</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ac</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="kw">dyad</span>(<span class="st">&quot;c&#39;&quot;</span>, x, <span class="dt">reverse =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ac</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ac</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ac</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ac</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
</div>
<div id="predefined-chord-constructors" class="section level2">
<h2>Predefined chord constructors</h2>
<p>Now to the topic of chord construction, there are two general forms of chord construction currently available in <code>tabr</code>. The first is for typical chords based on their defining intervals; i.e., “piano chords”. These are not particularly useful for guitar-specific chord shapes and fingerings, which generally span a greater pitch range. See further below for guitar chords.</p>
<p>In <code>tabr</code> chords are often constructed from scratch by explicitly typing the chord pitches in a noteworthy string, but many chords can also be constructed using helper functions. Currently, helpers exist for common chords up through thirteenths. <code>tabr</code> offers two options for each chord constructor function name: the longer <code>chord_*</code>-named function and its <code>x*</code> alias. The table below shows all available constructors.</p>
<pre class="r-output"><code>#&gt;        full_name abbreviation
#&gt; 1      chord_min           xm
#&gt; 2      chord_maj           xM
#&gt; 3     chord_min7          xm7
#&gt; 4     chord_dom7           x7
#&gt; 5      chord_7s5         x7s5
#&gt; 6     chord_maj7          xM7
#&gt; 7     chord_min6          xm6
#&gt; 8     chord_maj6          xM6
#&gt; 9      chord_dim         xdim
#&gt; 10    chord_dim7        xdim7
#&gt; 11    chord_m7b5        xm7b5
#&gt; 12     chord_aug         xaug
#&gt; 13       chord_5           x5
#&gt; 14    chord_sus2          xs2
#&gt; 15    chord_sus4          xs4
#&gt; 16    chord_dom9           x9
#&gt; 17     chord_7s9         x7s9
#&gt; 18    chord_maj9          xM9
#&gt; 19    chord_add9        xadd9
#&gt; 20    chord_min9          xm9
#&gt; 21   chord_madd9         xma9
#&gt; 22   chord_min11         xm11
#&gt; 23    chord_7s11        x7s11
#&gt; 24 chord_maj7s11       xM7s11
#&gt; 25      chord_11         x_11
#&gt; 26   chord_maj11         xM11
#&gt; 27      chord_13         x_13
#&gt; 28   chord_min13         xm13
#&gt; 29   chord_maj13         xM13
</code></pre>
<p>These functions take root notes and a key signature as input. The given function determines the intervals of the chord. This in combination with a root note is all that is needed to create the chord. However, the key signature can enforce whether the result uses flats or sharps when accidentals are present.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="kw">chord_min7</span>(<span class="st">&quot;a c e&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ac</span><span style="color: #00BBBB;">&#39;</span><span style="color: #00BBBB;font-weight: bold;">e</span><span style="color: #00BBBB;">&#39;</span><span style="color: #00BBBB;font-weight: bold;">g</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ce_gb_</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">egbd</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="kw">chord_min7</span>(<span class="st">&quot;a c e&quot;</span>, <span class="dt">key =</span> <span class="st">&quot;f&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ac</span><span style="color: #00BBBB;">&#39;</span><span style="color: #00BBBB;font-weight: bold;">e</span><span style="color: #00BBBB;">&#39;</span><span style="color: #00BBBB;font-weight: bold;">g</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ce_gb_</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">egbd</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="kw">xm7</span>(<span class="st">&quot;a c e&quot;</span>, <span class="dt">key =</span> <span class="st">&quot;f&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ac</span><span style="color: #00BBBB;">&#39;</span><span style="color: #00BBBB;font-weight: bold;">e</span><span style="color: #00BBBB;">&#39;</span><span style="color: #00BBBB;font-weight: bold;">g</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">ce_gb_</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">egbd</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
</div>
<div id="predefined-guitar-chords" class="section level2">
<h2>Predefined guitar chords</h2>
<p>The dataset <code>guitarChords</code> is a tibble containing 3,967 rows of predefined guitar chords. It is highly redundant, but convenient to use. It is generated from a much smaller chords basis set, that is then transposed over all notes, yielding chord types and shapes for all twelve notes. Chords begin from open position and range up one octave to chords whose lowest fret is eleven. There are also multiple chord voicings for many chord types. Finally, chords containing accidentals are included in the table with both the flat and sharp versions.</p>
<p>There are twelve columns. Again, some of the column-wise information is also redundant, but it is not a big deal to include and removes the need to do a variety of computations to map from one representation of chord information to another. Here are the first ten rows:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>guitarChords</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;"># A tibble: 3,967 x 12</span><span>
#&gt;    id    lp_name root  octave root_fret min_fret bass_string notes frets
#&gt;    </span><span style="color: #555555;font-style: italic;">&lt;fct&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>
#&gt; </span><span style="color: #555555;"> 1</span><span> M     a,:5    a          2         0        0           5 a,ea~ xo22~
#&gt; </span><span style="color: #555555;"> 2</span><span> M     a,:5    a          2         0        0           5 a,ea~ xo22~
#&gt; </span><span style="color: #555555;"> 3</span><span> m     a,:m    a          2         0        0           5 a,ea~ xo22~
#&gt; </span><span style="color: #555555;"> 4</span><span> 7     a,:7    a          2         0        0           5 a,eg~ xo2o~
#&gt; </span><span style="color: #555555;"> 5</span><span> 7     a,:7    a          2         0        0           5 a,eg~ xo2o~
#&gt; </span><span style="color: #555555;"> 6</span><span> M7    a,:maj7 a          2         0        0           5 a,eg~ xo21~
#&gt; </span><span style="color: #555555;"> 7</span><span> M7    a,:maj7 a          2         0        0           5 a,ea~ xo21~
#&gt; </span><span style="color: #555555;"> 8</span><span> m7    a,:m7   a          2         0        0           5 a,eg~ xo2o~
#&gt; </span><span style="color: #555555;"> 9</span><span> sus2  a,:sus2 a          2         0        0           5 a,ea~ xo22~
#&gt; </span><span style="color: #555555;">10</span><span> sus4  a,:sus4 a          2         0        0           5 a,ea~ xo22~
#&gt; </span><span style="color: #555555;"># ... with 3,957 more rows, and 3 more variables: semitones </span><span style="color: #555555;font-style: italic;">&lt;list&gt;</span><span style="color: #555555;">,</span><span>
#&gt; </span><span style="color: #555555;">#   fretboard </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span style="color: #555555;">, open </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>
</span></code></pre>
<div id="defining-new-guitar-chord-collections" class="section level3">
<h3>Defining new guitar chord collections</h3>
<p>You can also define your own chords using <code>chord_def</code>. All you need are the fret numbers for the fretted chord. Currently it is assumed to be a six-string instrument. The default tuning is standard, but this can be changed arbitrarily. <code>NA</code> indicates a muted string. Order is from lowest pitch string to highest. In the example below, create a set of minor chords based on the open <code>Am</code> shape.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>frets &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">NA</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="kw">chord_def</span>(frets, <span class="st">&quot;m&quot;</span>, <span class="dv">6</span>) <span class="co"># sixth entry (highest string: string #1) is optional</span></span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;"># A tibble: 1 x 13</span><span>
#&gt;   id    lp_name root  octave root_fret min_fret bass_string notes frets
#&gt;   </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>
#&gt; </span><span style="color: #555555;">1</span><span> m     a,:m    a          2         0        0           5 a,ea~ xo22~
#&gt; </span><span style="color: #555555;"># ... with 4 more variables: semitones </span><span style="color: #555555;font-style: italic;">&lt;list&gt;</span><span style="color: #555555;">, optional </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span style="color: #555555;">, fretboard </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span style="color: #555555;">,</span><span>
#&gt; </span><span style="color: #555555;">#   open </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>
</span></code></pre>
<p><code>guitarChords</code> does not currently contain the <code>optional</code> column, but this is a column where you can indicate optional chord notes, as shown above.</p>
<p><code>chord_def</code> is scalar and defines a single chord, always returning a table with one row, but you can map over it however you need in order to define a collection of chords. Below, a set of chords is generated with sharps and again with flats.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>purrr<span class="op">::</span><span class="kw">map_dfr</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="op">~</span><span class="kw">chord_def</span>(frets <span class="op">+</span><span class="st"> </span>.x, <span class="st">&quot;m&quot;</span>))</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;"># A tibble: 12 x 13</span><span>
#&gt;    id    lp_name root  octave root_fret min_fret bass_string notes frets
#&gt;    </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>
#&gt; </span><span style="color: #555555;"> 1</span><span> m     b_,:m   b_         2         1        1           5 b_,f~ x133~
#&gt; </span><span style="color: #555555;"> 2</span><span> m     b,:m    b          2         2        2           5 b,g_~ x244~
#&gt; </span><span style="color: #555555;"> 3</span><span> m     c:m     c          3         3        3           5 cgc&#39;~ x355~
#&gt; </span><span style="color: #555555;"> 4</span><span> m     d_:m    d_         3         4        4           5 d_a_~ x466~
#&gt; </span><span style="color: #555555;"> 5</span><span> m     d:m     d          3         5        5           5 dad&#39;~ x577~
#&gt; </span><span style="color: #555555;"> 6</span><span> m     e_:m    e_         3         6        6           5 e_b_~ x688~
#&gt; </span><span style="color: #555555;"> 7</span><span> m     e:m     e          3         7        7           5 ebe&#39;~ x799~
#&gt; </span><span style="color: #555555;"> 8</span><span> m     f:m     f          3         8        8           5 fc&#39;f~ x8(1~
#&gt; </span><span style="color: #555555;"> 9</span><span> m     g_:m    g_         3         9        9           5 g_d_~ x9(1~
#&gt; </span><span style="color: #555555;">10</span><span> m     g:m     g          3        10       10           5 gd&#39;g~ x(10~
#&gt; </span><span style="color: #555555;">11</span><span> m     a_:m    a_         3        11       11           5 a_e_~ x(11~
#&gt; </span><span style="color: #555555;">12</span><span> m     a:m     a          3        12       12           5 ae&#39;a~ x(12~
#&gt; </span><span style="color: #555555;"># ... with 4 more variables: semitones </span><span style="color: #555555;font-style: italic;">&lt;list&gt;</span><span style="color: #555555;">, optional </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, fretboard </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span style="color: #555555;">,</span><span>
#&gt; </span><span style="color: #555555;">#   open </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>
</span></code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>purrr<span class="op">::</span><span class="kw">map_dfr</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="op">~</span><span class="kw">chord_def</span>(frets <span class="op">+</span><span class="st"> </span>.x, <span class="st">&quot;m&quot;</span>, <span class="dt">key =</span> <span class="st">&quot;f&quot;</span>)) <span class="co"># flats</span></span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;"># A tibble: 12 x 13</span><span>
#&gt;    id    lp_name root  octave root_fret min_fret bass_string notes frets
#&gt;    </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>
#&gt; </span><span style="color: #555555;"> 1</span><span> m     b_,:m   b_         2         1        1           5 b_,f~ x133~
#&gt; </span><span style="color: #555555;"> 2</span><span> m     b,:m    b          2         2        2           5 b,g_~ x244~
#&gt; </span><span style="color: #555555;"> 3</span><span> m     c:m     c          3         3        3           5 cgc&#39;~ x355~
#&gt; </span><span style="color: #555555;"> 4</span><span> m     d_:m    d_         3         4        4           5 d_a_~ x466~
#&gt; </span><span style="color: #555555;"> 5</span><span> m     d:m     d          3         5        5           5 dad&#39;~ x577~
#&gt; </span><span style="color: #555555;"> 6</span><span> m     e_:m    e_         3         6        6           5 e_b_~ x688~
#&gt; </span><span style="color: #555555;"> 7</span><span> m     e:m     e          3         7        7           5 ebe&#39;~ x799~
#&gt; </span><span style="color: #555555;"> 8</span><span> m     f:m     f          3         8        8           5 fc&#39;f~ x8(1~
#&gt; </span><span style="color: #555555;"> 9</span><span> m     g_:m    g_         3         9        9           5 g_d_~ x9(1~
#&gt; </span><span style="color: #555555;">10</span><span> m     g:m     g          3        10       10           5 gd&#39;g~ x(10~
#&gt; </span><span style="color: #555555;">11</span><span> m     a_:m    a_         3        11       11           5 a_e_~ x(11~
#&gt; </span><span style="color: #555555;">12</span><span> m     a:m     a          3        12       12           5 ae&#39;a~ x(12~
#&gt; </span><span style="color: #555555;"># ... with 4 more variables: semitones </span><span style="color: #555555;font-style: italic;">&lt;list&gt;</span><span style="color: #555555;">, optional </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span style="color: #555555;">, fretboard </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span style="color: #555555;">,</span><span>
#&gt; </span><span style="color: #555555;">#   open </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>
</span></code></pre>
</div>
<div id="related-helper-functions" class="section level3">
<h3>Related helper functions</h3>
<p>Several functions are available that glean specific information from <code>guitarChords</code>. The functions <code>lp_chord_id</code> and <code>lp_chord_mod</code> obtain the LilyPond chord name and LilyPond chord modifier (suffix), given a root note and <code>tabr</code> format chord name/modifier. It is not quite identical to LilyPond format (set <code>exact = TRUE</code>). See function documentation for details.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="kw">lp_chord_id</span>(<span class="st">&quot;a a a&quot;</span>, <span class="st">&quot;m M m7_5&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] &quot;a:m&quot;    &quot;a:5&quot;    &quot;a:m7_5&quot;
</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="kw">lp_chord_mod</span>(<span class="st">&quot;a a a&quot;</span>, <span class="st">&quot;m M m7_5&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] &quot;m&quot;    &quot;5&quot;    &quot;m7_5&quot;
</code></pre>
<p><code>gc_is_known</code> checks against <code>guitarChords</code> to see if the explicit chord, as given by its component pitches, exists in the dataset. Notice below that <code>a</code> in the string of notes is a note, not a major <code>A</code> chord, and hence returns <code>FALSE</code>. In the <code>gc_name_*</code> functions, the same <code>a</code> is now interpreted as a major chord because these functions operate on chord name inputs.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="kw">gc_is_known</span>(<span class="st">&quot;a b_,fb_d&#39;f&#39;&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] FALSE  TRUE
</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a></span>
<span id="cb37-2"><a href="#cb37-2"></a>x &lt;-<span class="st"> &quot;a aM b_,m7#5&quot;</span></span>
<span id="cb37-3"><a href="#cb37-3"></a><span class="kw">gc_name_split</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;"># A tibble: 3 x 2</span><span>
#&gt;   root  mod  
#&gt;   </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>
#&gt; </span><span style="color: #555555;">1</span><span> a     M    
#&gt; </span><span style="color: #555555;">2</span><span> a     M    
#&gt; </span><span style="color: #555555;">3</span><span> b_,   m7#5
</span></code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="kw">gc_name_root</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] &quot;a&quot;   &quot;a&quot;   &quot;b_,&quot;
</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="kw">gc_name_mod</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; [1] &quot;M&quot;    &quot;M&quot;    &quot;m7#5&quot;
</code></pre>
</div>
</div>
<div id="guitar-chord-construction" class="section level2">
<h2>Guitar chord construction</h2>
<p>The most interesting use of <code>guitarChords</code> is in using it to map from chord names to noteworthy strings.</p>
<div id="chord-information" class="section level3">
<h3>Chord information</h3>
<p><code>gc_info</code> can be used to filter <code>guitarChords</code>. In the examples below, you can see that multiple chord names can be supplied at once. All are used to filter the chord dataset. If the inputs do not exist, an empty tibble with zero rows is returned. The result is not vectorized to match the number of entries in the input; it is simply a row filter for <code>guitarChords</code>.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="kw">gc_info</span>(<span class="st">&quot;a&quot;</span>) <span class="co"># a major chord, not a single note</span></span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;"># A tibble: 6 x 12</span><span>
#&gt;   id    lp_name root  octave root_fret min_fret bass_string notes frets
#&gt;   </span><span style="color: #555555;font-style: italic;">&lt;fct&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>
#&gt; </span><span style="color: #555555;">1</span><span> M     a,:5    a          2         0        0           5 a,ea~ xo22~
#&gt; </span><span style="color: #555555;">2</span><span> M     a,:5    a          2         5        5           6 a,ea~ 5776~
#&gt; </span><span style="color: #555555;">3</span><span> M     a,:5    a          2         5        2           6 a,d_~ 5422~
#&gt; </span><span style="color: #555555;">4</span><span> M     a:5     a          3         7        7           4 ae&#39;a~ xx79~
#&gt; </span><span style="color: #555555;">5</span><span> M     a:5     a          3        12       12           5 ae&#39;a~ x(12~
#&gt; </span><span style="color: #555555;">6</span><span> M     a:5     a          3        12        9           5 ad_&#39;~ x(12~
#&gt; </span><span style="color: #555555;"># ... with 3 more variables: semitones </span><span style="color: #555555;font-style: italic;">&lt;list&gt;</span><span style="color: #555555;">, fretboard </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span style="color: #555555;">, open </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>
</span></code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="kw">gc_info</span>(<span class="st">&quot;ceg a#m7_5&quot;</span>) <span class="co"># only third entry is a guitar chord</span></span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;"># A tibble: 6 x 12</span><span>
#&gt;   id    lp_name root  octave root_fret min_fret bass_string notes frets
#&gt;   </span><span style="color: #555555;font-style: italic;">&lt;fct&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>
#&gt; </span><span style="color: #555555;">1</span><span> m7_5  b_,:m7~ b_         2         1        0           5 b_,a~ x1x1~
#&gt; </span><span style="color: #555555;">2</span><span> m7_5  b_,:m7~ b_         2         1        1           5 b_,e~ x121~
#&gt; </span><span style="color: #555555;">3</span><span> m7_5  b_,:m7~ b_         2         6        5           6 b_,a~ 6x66~
#&gt; </span><span style="color: #555555;">4</span><span> m7_5  b_:m7_5 b_         3         8        4           4 b_d_~ xx86~
#&gt; </span><span style="color: #555555;">5</span><span> m7_5  b_:m7_5 b_         3         8        8           4 b_e&#39;~ xx89~
#&gt; </span><span style="color: #555555;">6</span><span> m7_5  b_:m7_5 b_         3        13       12           5 b_a_~ x(13~
#&gt; </span><span style="color: #555555;"># ... with 3 more variables: semitones </span><span style="color: #555555;font-style: italic;">&lt;list&gt;</span><span style="color: #555555;">, fretboard </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span style="color: #555555;">, open </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>
</span></code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="kw">gc_info</span>(<span class="st">&quot;ceg a#m7_5&quot;</span>, <span class="dt">key =</span> <span class="st">&quot;f&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;"># A tibble: 6 x 12</span><span>
#&gt;   id    lp_name root  octave root_fret min_fret bass_string notes frets
#&gt;   </span><span style="color: #555555;font-style: italic;">&lt;fct&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>
#&gt; </span><span style="color: #555555;">1</span><span> m7_5  b_,:m7~ b_         2         1        0           5 b_,a~ x1x1~
#&gt; </span><span style="color: #555555;">2</span><span> m7_5  b_,:m7~ b_         2         1        1           5 b_,e~ x121~
#&gt; </span><span style="color: #555555;">3</span><span> m7_5  b_,:m7~ b_         2         6        5           6 b_,a~ 6x66~
#&gt; </span><span style="color: #555555;">4</span><span> m7_5  b_:m7_5 b_         3         8        4           4 b_d_~ xx86~
#&gt; </span><span style="color: #555555;">5</span><span> m7_5  b_:m7_5 b_         3         8        8           4 b_e&#39;~ xx89~
#&gt; </span><span style="color: #555555;">6</span><span> m7_5  b_:m7_5 b_         3        13       12           5 b_a_~ x(13~
#&gt; </span><span style="color: #555555;"># ... with 3 more variables: semitones </span><span style="color: #555555;font-style: italic;">&lt;list&gt;</span><span style="color: #555555;">, fretboard </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span style="color: #555555;">, open </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>
</span></code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a></span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="kw">gc_info</span>(<span class="st">&quot;a,m c d f,&quot;</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;"># A tibble: 23 x 12</span><span>
#&gt;    id    lp_name root  octave root_fret min_fret bass_string notes frets
#&gt;    </span><span style="color: #555555;font-style: italic;">&lt;fct&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>    </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>
#&gt; </span><span style="color: #555555;"> 1</span><span> m     a,:m    a          2         0        0           5 a,ea~ xo22~
#&gt; </span><span style="color: #555555;"> 2</span><span> m     a,:m    a          2         5        5           6 a,ea~ 5775~
#&gt; </span><span style="color: #555555;"> 3</span><span> m     a,:m    a          2         5        2           6 a,cea 5322~
#&gt; </span><span style="color: #555555;"> 4</span><span> m     a:m     a          3         7        7           4 ae&#39;a~ xx79~
#&gt; </span><span style="color: #555555;"> 5</span><span> m     a:m     a          3        12       12           5 ae&#39;a~ x(12~
#&gt; </span><span style="color: #555555;"> 6</span><span> m     a:m     a          3        12        9           5 ac&#39;e~ x(12~
#&gt; </span><span style="color: #555555;"> 7</span><span> M     c:5     c          3         3        3           5 cgc&#39;~ x355~
#&gt; </span><span style="color: #555555;"> 8</span><span> M     c:5     c          3         3        0           5 cegc~ x32o~
#&gt; </span><span style="color: #555555;"> 9</span><span> M     c:5     c          3         8        8           6 cgc&#39;~ 8(10~
#&gt; </span><span style="color: #555555;">10</span><span> M     c:5     c          3         8        5           6 cegc~ 8755~
#&gt; </span><span style="color: #555555;"># ... with 13 more rows, and 3 more variables: semitones </span><span style="color: #555555;font-style: italic;">&lt;list&gt;</span><span style="color: #555555;">,</span><span>
#&gt; </span><span style="color: #555555;">#   fretboard </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span style="color: #555555;">, open </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span>
</span></code></pre>
<p>The same properties of <code>gc_info</code> apply to wrapper functions around it, namely, <code>gc_notes</code> and <code>gc_fretboard</code>.</p>
</div>
<div id="map-chord-names-to-notes" class="section level3">
<h3>Map chord names to notes</h3>
<p><code>gc_notes</code> takes chord names that exist in <code>guitarChords</code> and returns the noteworthy strings needed for phrase construction. Remember, the is just a basic filter. If you specify chords imprecisely, the result will contain many more chords than were in the input. If you specify chords completely unambiguously, then there is one result for each input. However, this also requires you do not provide any chord names that are not in <code>guitarChords</code>, or these will be dropped.</p>
<p>Keep in mind that these functions are under active development and the approaches they take may change prior to the next CRAN release of <code>tabr</code>. Currently, the ways you can add precision to your chord mapping include passing the following optional arguments:</p>
<ul>
<li><code>root_octave</code>: the octave number for the root note.</li>
<li><code>root_fret</code>: the fret for the root note.</li>
<li><code>min_fret</code>: the lowest fret position for a chord.</li>
<li><code>bass_string</code>: the lowest unmuted string for a chord.</li>
<li><code>open</code>: open chords, closed/movable chords, or both (default).</li>
<li><code>key</code>: key signature, to enforce sharps or flats when present.</li>
</ul>
<p>In this example, possible matches from <code>guitarChord</code> are filtered to any whose root fret is in <code>0:2</code>.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>x &lt;-<span class="st"> </span><span class="kw">gc_notes</span>(<span class="st">&quot;a,7 b,m&quot;</span>, <span class="dt">root_fret =</span> <span class="dv">0</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">ignore_octave =</span> <span class="ot">FALSE</span>)</span>
<span id="cb44-2"><a href="#cb44-2"></a><span class="kw">summary</span>(x)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;font-weight: bold;">&lt;Noteworthy string&gt;
#&gt;   Timesteps: </span><span>2 (0 notes, 2 chords)</span><span style="color: #555555;font-weight: bold;">
#&gt;   Octaves: </span><span>tick</span><span style="color: #555555;font-weight: bold;">
#&gt;   Accidentals: </span><span>flat</span><span style="color: #555555;font-weight: bold;">
#&gt;   Format: </span><span>space-delimited time</span><span style="color: #555555;font-weight: bold;">
#&gt;   Values: </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">a</span><span style="color: #00BBBB;">,</span><span style="color: #00BBBB;font-weight: bold;">egd_</span><span style="color: #00BBBB;">&#39;</span><span style="color: #00BBBB;font-weight: bold;">e</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span> </span><span style="color: #BBBB00;">&lt;</span><span style="color: #00BBBB;font-weight: bold;">b</span><span style="color: #00BBBB;">,</span><span style="color: #00BBBB;font-weight: bold;">g_bd</span><span style="color: #00BBBB;">&#39;</span><span style="color: #00BBBB;font-weight: bold;">g_</span><span style="color: #00BBBB;">&#39;</span><span style="color: #BBBB00;">&gt;</span><span>
</span></code></pre>
<p>Notice that the octave information helps further restrict the chord set with <code>ignore_octave = FALSE</code>.</p>
</div>
<div id="fretboard-diagrams" class="section level3">
<h3>Fretboard diagrams</h3>
<p>When creating tablature and sheet music with LilyPond, you may wish to include a chord chart containing fretboard diagrams of the chords as they are played. Currently, <code>tabr</code> uses the <code>chord_set</code> function to prepare a named character vector of chords that have quasi-LilyPond chord names and fretboard notation values, ready to be passed to <code>score</code> for proper injection into LilyPond.</p>
<p>This process and the structure of the data objects involved may change soon (I have not decided for certain yet). But for the time being, this is still the process. Therefore, the new function <code>gc_fretboard</code> performs the same manipulation using chords from <code>guitarChords</code>.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="kw">gc_fretboard</span>(<span class="st">&quot;a,m c d f,&quot;</span>, <span class="dt">min_fret =</span> <span class="dv">0</span><span class="op">:</span><span class="dv">1</span>)</span></code></pre></div>
<pre class="r-output"><code>#&gt;           a,:m            c:5            d:5           f,:5 
#&gt; &quot;x;o;2;2;1;o;&quot; &quot;x;3;2;o;1;o;&quot; &quot;x;x;o;2;3;2;&quot; &quot;1;3;3;2;1;1;&quot;
</code></pre>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
